% Указываем VS Code использовать XeLaTeX
% !TEX program = xelatex
\PassOptionsToPackage{pdfpagelabels=false}{hyperref}

% Шрифт всего документа - 12pt. Тип документа - статья
\documentclass[12pt]{article}

% Параметры документа (дисциплина, тема, преподаватель и т.п.)
% Загружаем первым, чтобы флаги из config.tex были доступны в преамбуле
\input{config}

% Пакет для управления шрифтами
\usepackage{fontspec} 
% Шрифт по умолчанию
\setmainfont{Liberation Serif}
% \setmainfont{Times New Roman}  % для Windows/macOS
% \setmainfont{Liberation Serif} % для Linux

% Шрифт для листинга (раскомментируй при необходимости)
\setmonofont{DejaVu Sans Mono}[Scale=MatchLowercase]
% Альтернативы:
% \setmonofont{Courier New}      % для Windows/macOS
% \setmonofont{Liberation Mono}  % для Linux

% Пакет для работы с языками
\usepackage{polyglossia}
% Язык документа по умолчанию - русский
\setdefaultlanguage{russian}
% Дополнительный язык
\setotherlanguage{english}

% Пакет для использования запятой в качестве разделителя в дробных числах
\usepackage{icomma}

% Пакет для регулирования полей
\usepackage[a4paper, margin=2cm]{geometry}

% Пакет для вставки изображений
\usepackage{graphicx}
% Указываем путь к изображениям (удобно для организации проекта)
\graphicspath{{./images/}}

% Пакет для ссылок в документе
\usepackage{hyperref}

% Улучшения для оглавлений/закладок PDF: загружать после hyperref
\usepackage{bookmark}

% Пакет для разделительных символов в содержании
\usepackage{tocloft}
\renewcommand{\cftdot}{.}
\renewcommand{\cftsecdotsep}{\cftdotsep}

% Пакет для библиографии (управляется флагом \ifbib в config.tex)
% При включении компилируй по рецепту: xelatex -> biber -> xelatex x2
\ifbib
    \usepackage[backend=biber, style=gost-numeric, language=autobib, autolang=other]{biblatex}
    \addbibresource{references.bib}
\fi

% Пакет для создания графиков
%\usepackage{pgfplots}
%\pgfplotsset{compat=1.18}
%\pgfplotsset{/pgf/number format/use comma} % Использование запятой в качестве десятичного разделителя

% Пакеты для листинга кода и его подсветки
% \usepackage{listings}
% \usepackage{xcolor}

% Начало документа
\begin{document}

    % Отключает нумерацию страниц в титульном листе и в содержании
    \pagenumbering{gobble}

    % Титульная страница
    \input{pages/titlepage}

    % Содержание
    \begin{center}
        \tableofcontents
    \end{center}

    % Новая страница
    \newpage

    % Нумерация с 3-его номера
    \pagenumbering{arabic}
    \setcounter{page}{3}
	
    % ==========================================
    % СОДЕРЖАНИЕ ОТЧЁТА
    % ==========================================

    \section{Начало лабораторной работы}

        \input{chapters/chapter1.tex}

    % Список литературы (управляется флагом \ifbib в config.tex)
    \ifbib
        \input{pages/bibliography}
    \fi

% Конец документа
\end{document}